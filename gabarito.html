<!DOCTYPE html>
<html lang="pt-br">

<head>
	<link rel="stylesheet" href="./css/estilo.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" href="img/icon.png"/>
	<script defer src="./js/script.js"></script>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
	<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Simulado MP</title> 
</head>
	  
		  
<body>
		
	<header class="cabecalho">	
		<!-- Menu Principal -->
		<nav id="menu-h">
			<ul>
			<li><a href="index2.html">Início</a></li>
			<li><a href="sobre.html">Sobre</a></li>
			<li><a href="creditos.html">Créditos</a></li>
			<li><a href="contato.html">Contato</a></li>
			</ul>
		</nav>	
	</header>

	<section class="pag-gabarito">
		<div class="">

		<h1>PARABÉNS, VOCÊ FINALIZOU O SIMULADO!</h1>

		<div>
			<div class="item-1">
				<h3>ACERTOS:</h3>
				<h2 class="" id="resultado">0/35</h2>
			</div>
		
			<div class="item-1">
				<h3>ERROS:</h3>

				<h2 id="resultado-errado">0/35</h2>
			</div>

			<div class="item-1">
				<h3>TOTAL RESPONDIDO:</h3>

				<h2 style="font-size:60px;" id="resultado-total">0/35</h2>
			</div>

	<script>
		var allQuestions = [
			[1,'C',[0.39,0.18,0.22,0.06,0.15]],
			[2,'A',[0.61,0.06,0.21,0.07,0.05]],
			[3,'A',[0.28,0.2,0.12,0.3,0.09]],
			[4,'B',[0.09,0.52,0.06,0.24,0.09]],
			[5,'B',[0.02,0.62,0.06,0.11,0.18]],
			[6,' B',[0.14,0.62,0.12,0.04,0.08]],
			[7,' D',[0.19,0.21,0.26,0.2,0.14]],
			[8,' C',[0.25,0.18,0.26,0.21,0.11]],
			[9,' D',[0.16,0.18,0.25,0.27,0.14]],
			[10,' E',[0.29,0.12,0.05,0.07,0.46]],
			[11,' A',[0.58,0.09,0.18,0.1,0.05]],
			[12,' D',[0.25,0.14,0.09,0.42,0.1]],
			[13,' C',[0.02,0.03,0.89,0.03,0.03]],
			[14,' E',[0.13,0.11,0.17,0.21,0.37]],
			[15,' D',[0.29,0.09,0.2,0.15,0.27]],
			[16,' B',[0.07,0.6,0.16,0.08,0.09]],
			[17,' E',[0.27,0.12,0.07,0.17,0.36]],
			[18,' D',[0.3,0.05,0.14,0.43,0.07]],
			[19,' D',[0.03,0.05,0.04,0.54,0.34]],
			[20,' D',[0.23,0.31,0.15,0.11,0.2]],
			[21,' A',[0.21,0.12,0.24,0.09,0.33]],
			[22,' B',[0.21,0.32,0.31,0.1,0.05]],
			[23,' B',[0.1,0.21,0.17,0.19,0.33]],
			[24,' B',[0.18,0.6,0.1,0.03,0.09]],
			[25,' B',[0.16,0.37,0.12,0.14,0.2]],
			[26,' D',[0.13,0.08,0.35,0.22,0.21]],
			[27,' E',[0.21,0.19,0.17,0.2,0.22]],
			[28,' B',[0.2,0.55,0.05,0.16,0.04]],
			[29,' C',[0.06,0.1,0.6,0.14,0.11]],
			[30,' E',[0.21,0.18,0.15,0.16,0.29]],
			[31,' A',[0.26,0.2,0.2,0.21,0.12]],
			[32,' D',[0.12,0.15,0.19,0.39,0.15]],
			[33,' A',[0.4,0.29,0.21,0.03,0.07]],
			[34,' B',[0.19,0.38,0.14,0.07,0.21]],
			[35,' D',[0.45,0.1,0.07,0.3,0.28]],
			[36,' B',[0.09,0.64,0.06,0.09,0.12]],
			[37,' A',[0.48,0.09,0.15,0.16,0.12]],
			[38,' C',[0.06,0.11,0.47,0.2,0.17]],
			[39,' A',[0.2,0.08,0.44,0.17,0.11]],
			[40,' C',[0.46,0.09,0.14,0.17,0.14]],
			[41,' D',[0.17,0.11,0.13,0.49,0.09]],
			[42,' C',[0.11,0.19,0.35,0.11,0.24]],
			[43,' D',[0.14,0.09,0.16,0.43,0.17]],
			[44,' D',[0.11,0.07,0.06,0.44,0.32]],
			[45,' C',[0.09,0.19,0.53,0.11,0.08]],
			[46,' C',[0.09,0.19,0.53,0.11,0.08]],
			[47,' C',[0.09,0.19,0.53,0.11,0.08]],
			[48,' C',[0.09,0.19,0.53,0.11,0.08]],
			[49,' C',[0.09,0.19,0.53,0.11,0.08]],
			[50,' C',[0.09,0.19,0.53,0.11,0.08]],
			[51,' C',[0.09,0.19,0.53,0.11,0.08]],
			[53,' C',[0.09,0.19,0.53,0.11,0.08]],
			[54,' C',[0.09,0.19,0.53,0.11,0.08]],
			[55,' C',[0.09,0.19,0.53,0.11,0.08]],
			[56,' C',[0.09,0.19,0.53,0.11,0.08]],
			[57,' C',[0.09,0.19,0.53,0.11,0.08]],
			[58,' C',[0.09,0.19,0.53,0.11,0.08]],
			[59,' C',[0.09,0.19,0.53,0.11,0.08]],
			[60,' C',[0.09,0.19,0.53,0.11,0.08]]

		]
		function drawResponses(question, answer, valuesAnswers) {
			var xArray = ["A", "B", "C", "D", "E"];
			var yArray = valuesAnswers;
		
			var layout = {title:"<b>QUESTÃO " + question + "</b>"};
		
			var data = [{labels:xArray, values:yArray, type:"pie"}];
			//var data = [{x:xArray, y:yArray, type:"bar"}];
		
			var divQuestion = "Question" + question;
			
			document.write('<table><tr><td>');
			document.write('<div id="' + divQuestion + '" style="width:70%;max-width:400px"></div>');
			document.write('</td><td>');
		  document.write('<lateral><h2><center>Resposta: '+answer+'</center></h2></lateral>');
			document.write('</td></tr></table>');
			
			Plotly.newPlot(divQuestion, data, layout); 
		}
		for (let i = 0; i < allQuestions.length; i++) {
		  drawResponses(allQuestions[i][0], allQuestions[i][1], allQuestions[i][2]);
		}

		function mostraResultado() {
            const cont = parseInt(localStorage.getItem('cont'));
	        const contErrada = parseInt(localStorage.getItem('contErrada')) - (parseInt(localStorage.getItem('contErrada')) / 2) + (35 - (parseInt(localStorage.getItem('cont')) + (parseInt(localStorage.getItem('contErrada')) / 2)));
            const total = parseInt(localStorage.getItem('cont')) + (parseInt(localStorage.getItem('contErrada')) - (parseInt(localStorage.getItem('contErrada')) / 2)); 
    
            
                document.getElementById('resultado').innerText = cont + '/35';
                document.getElementById('resultado-errado').innerText = contErrada + '/35';
                document.getElementById('resultado-total').innerText = total + '/35';

                //reseta localStorage após resultados, assim começa a contagem do zero ao iniciar de novo
                localStorage.setItem('firstLoad', true);
            }
            
            mostraResultado();
		</script>

</section>

    <!-- Rodapé -->
	<footer class="rodape">
		
		<div class="final-pag">
			<p>Equipe Infocrew - Análise e Desenvolvimento de Sistemas (FATEC - 2022)</p>
		</div>
	
	</footer>
</body>

</html>